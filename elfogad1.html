<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Elfogadásra Hangolódás</title>
  <meta name="description" content="Nem lemondás, hanem átadás — gyakorlati útmutató a vágyak Istenre bízásához." />
  <style>
    :root {
      --bg: #fbfaf8;
      --card: #ffffff;
      --muted: #6b6b6b;
      --accent: #0b6b4f;
      --danger: #ffb4a2;
    }
    * {
      box-sizing:border-box;
    }
    body {
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      line-height: 1.5;
      margin: 0;
      background: var(--bg);
      color: #111;
    }
    header {
      background: linear-gradient(180deg, #eaf6f0 0%, var(--bg) 100%);
      padding: 40px 16px 28px;
      border-bottom: 1px solid rgba(0,0,0,0.04);
      text-align: center;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 16px 40px 16px;
    }
    h1 {
      font-size: 28px;
      margin: 0 0 6px;
    }
    .tagline {
      color: var(--muted);
      margin-bottom: 18px;
    }
    .card {
      background: var(--card);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 6px 20px rgba(10,10,10,0.04);
      margin-bottom: 18px;
    }
    h2 {
      margin: 0 0 10px;
      font-size: 18px;
    }
    p {
      margin: 0 0 12px;
    }
    ol {
      margin: 0 0 12px 20px;
    }
    .muted {
      color: var(--muted);
      font-size: 14px;
    }
    .btn {
      display: inline-block;
      padding: 10px 14px;
      border-radius: 10px;
      background: var(--accent);
      color: #fff;
      text-decoration: none;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .btn:hover {
      background-color: #094d37;
    }
    .example {
      background: #fcfdfc;
      border-left: 4px solid rgba(11,107,79,0.12);
      padding: 12px;
      border-radius: 8px;
    }
    label {
      display: block;
      font-weight: 600;
      margin: 8px 0 6px;
    }
    textarea, input {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #e6e6e6;
      font-size: 15px;
      resize: vertical;
      font-family: inherit;
    }
    footer {
      padding: 20px 16px;
      text-align: center;
      color: var(--muted);
      font-size: 14px;
    }
    .pill {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      background: #eef7f2;
      color: var(--accent);
      font-weight: 600;
      margin-right: 8px;
      font-size: 13px;
    }
    .warn {
      background: #fff6f0;
      border-left: 4px solid var(--danger);
      padding: 12px;
      border-radius: 8px;
      margin-top: 10px;
    }
    .actions {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 6px;
    }
    .flex-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      margin-bottom: 12px;
    }
    .small {
      font-size: 13px;
      color: var(--muted);
    }
    .entry-card {
      border: 1px solid #ddd;
      background: #fff;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 12px;
    }
    .entry-header {
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    button.delete-btn {
      background-color: #ff6b6b;
      border: none;
      padding: 4px 8px;
      border-radius: 6px;
      color: white;
      cursor: pointer;
      font-size: 12px;
      transition: background-color 0.3s ease;
    }
    button.delete-btn:hover {
      background-color: #d94444;
    }
    .nested-list {
      padding-left: 16px;
      margin-top: 8px;
    }
    textarea[disabled] {
      background-color: #f0f0f0;
    }
    @media (max-width: 880px) {
      h1 {
        font-size: 22px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Elfogadásra Hangolódás</h1>
      <div class="tagline">Nem lemondás — átadás. A vágyakat Istenre bízni úgy, hogy közben cselekszünk, de nem erőlködünk.</div>
    </div>
  </header>
  <main class="container" role="main">
    <section class="card" aria-labelledby="about-title">
      <h2 id="about-title">Miről szól ez?</h2>
      <p>Az elme és a fantázia gyakran kreál élénk, csábító képeket. Ha azonosulunk ezekkel a képekkel, a vágyaink torzulhatnak és karikatúraszerű formát öltenek. A gyógyulás útja nem a teljes lemondás, hanem a tudatos átadás:</p>
      <p class="muted">Megteszem, amit tudok — tervezek, dolgozom, imádkozom — de nem görcsölök. A megvalósulást a Forrásra (Istenre) bízom: legyen meg a Te akaratod.</p>
    </section>
    
    <section class="card" aria-labelledby="practice-title">
      <h2 id="practice-title">4 lépéses gyakorlati imaút</h2>
      <ol>
        <li><strong>Felismerés:</strong> Nézd meg a vágyat — mit kérsz, honnan jön, hogyan érzik magukat testben és elmében?</li>
        <li><strong>Átadás:</strong> Hozd oda Isten elé a vágyat: ne ragaszkodj, add át a Forrásnak a megvalósulást.</li>
        <li><strong>Bizalom:</strong> Hagyd, hogy Isten bölcsessége alakítsa a kivezető utat — cselekedj, de ne erőlködj.</li>
        <li><strong>Hála:</strong> Köszönd meg, akár részben, akár teljesen, mert a hála formálja a szívet és megtisztítja a szándékot.</li>
      </ol>
      <div class="example">
        <strong>Példa:</strong>
        <p class="small">Vágy: stabil munkahely és béke a családban. Felismerés: miért fontos? (biztonság, méltóság). Átadás: „Uram, ezt szeretném — a Te kezedbe teszem.” Bizalom: lépek munkakeresésben, de nem leszek kétségbeesett. Hála: köszönöm a kis lépéseket is.</p>
      </div>
    </section>
    
    <section class="card" aria-labelledby="add-entry-title">
      <h2 id="add-entry-title">Új átadás és imakérés</h2>
      
      <label for="atadasInput">Mit adsz át ma? (vágy, félelem, döntés, helyzet)</label>
      <textarea id="atadasInput" rows="3" placeholder="Pl. Békét kérek a családomnak..."></textarea>
      
      <label for="imakeresInput">Ima kérés ehhez</label>
      <textarea id="imakeresInput" rows="2" placeholder="Kérlek, imádkozz értem ezért..."></textarea>
      
      <div class="actions">
        <button class="btn" id="saveAtadasBtn">Átadás és ima mentése</button>
      </div>
      
      <p class="small">Az imakérés és átadás bármikor bővíthető tapasztalattal később.</p>
    </section>
    
    <section class="card" aria-labelledby="entries-list-title">
      <h2 id="entries-list-title">Korábbi átadások, imák és tapasztalataik</h2>
      <div id="entriesList">
        <p class="small" style="color:#888;">Nincs még elmentett átadás.</p>
      </div>
    </section>
    
    <section class="card" aria-labelledby="caution-title">
      <h2 id="caution-title">Figyelmeztetés és iránymutatás</h2>
      <div class="warn">
        <p class="small">Az elme képei néha tévesek vagy túlzóak lehetnek. Ha gyakran küzdesz erős, zavaró képekkel, vagy a vágyak szorongást, depressziót vagy kényszert okoznak, kérj szakmai segítséget is — a hit és a pszichológiai támogatás kiegészítik egymást.</p>
      </div>
    </section>

    <section class="card" aria-labelledby="theology-disclaimer-title">
      <h2 id="theology-disclaimer-title">Teológiai beágyazás</h2>
      <p class="small">Ez a gyakorlat a keresztény hagyomány bizalmára épít: nem elutasítás, hanem ráhagyatkozás a Forrás bölcsességére. A cél: a vágy megtisztulása és a szív formálódása.</p>
    </section>
  </main>

  <footer>
    <div class="container small">
 <a href="https://serbandezso.github.io/Ossze/" style="display:inline-block;padding:10px 16px;border-radius:8px;text-decoration:none;border:1px solid rgba(0,0,0,0.08);">
      Vissza: a <strong>Főoldalra</strong> útja →
    </a></div>
  </footer>

  <script>
    // Helper to format date string
    function formatDate(dateStr) {
      const d = new Date(dateStr);
      return d.toLocaleString('hu-HU', {day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit'});
    }

    // Local storage kulcs
    const STORAGE_KEY = 'eh-atadasok';

    // Betölti az átadásokat a localStorage-ból
    function loadAtadasok() {
      const container = document.getElementById('entriesList');
      container.innerHTML = '';
      
      let atadasok = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
      if (atadasok.length === 0) {
        container.innerHTML = '<p class="small" style="color:#888;">Nincs még elmentett átadás.</p>';
        return;
      }

      atadasok.forEach((atadas, idx) => {
        const entryDiv = document.createElement('div');
        entryDiv.className = 'entry-card';

        // Fejléc dátummal és törlés gombbal
        const headerDiv = document.createElement('div');
        headerDiv.className = 'entry-header';

        const dateSpan = document.createElement('span');
        dateSpan.textContent = formatDate(atadas.date);
        headerDiv.appendChild(dateSpan);

        const delBtn = document.createElement('button');
        delBtn.className = 'delete-btn';
        delBtn.textContent = 'Törlés';
        delBtn.title = 'Átadás törlése';
        delBtn.onclick = () => {
          if (confirm('Biztosan törlöd ezt az átadást és minden hozzá tartozó adatot?')) {
            atadasok.splice(idx,1);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(atadasok));
            loadAtadasok();
          }
        };
        headerDiv.appendChild(delBtn);

        entryDiv.appendChild(headerDiv);

        // Átadás szöveg
        const atadasP = document.createElement('p');
        atadasP.textContent = 'Átadás: ' + atadas.text;
        entryDiv.appendChild(atadasP);

        // Imakérés ha van
        if(atadas.ima && atadas.ima.trim() !== '') {
          const imaP = document.createElement('p');
          imaP.innerHTML = '<strong>Ima kérés:</strong> ' + atadas.ima;
          entryDiv.appendChild(imaP);
        }

        // Tapasztalatok hozzáadása
        const expLabel = document.createElement('label');
        expLabel.textContent = 'Tapasztalat hozzáadása ehhez';
        expLabel.setAttribute('for', 'expInput-'+atadas.id);
        entryDiv.appendChild(expLabel);

        const expTextarea = document.createElement('textarea');
        expTextarea.id = 'expInput-' + atadas.id;
        expTextarea.rows = 3;
        expTextarea.placeholder = 'Pl. Ma békét éreztem a szívemben...';
        entryDiv.appendChild(expTextarea);

        const expSaveBtn = document.createElement('button');
        expSaveBtn.className = 'btn';
        expSaveBtn.textContent = 'Tapasztalat mentése';
        expSaveBtn.onclick = () => {
          const val = expTextarea.value.trim();
          if (!val) {
            alert('Írj valamit a tapasztalathoz.');
            return;
          }
          atadas.experiences = atadas.experiences || [];
          atadas.experiences.push({ text: val, date: new Date().toISOString() });
          localStorage.setItem(STORAGE_KEY, JSON.stringify(atadasok));
          expTextarea.value = '';
          loadAtadasok();
        };
        entryDiv.appendChild(expSaveBtn);

        // Meglévő tapasztalatok megjelenítése
        if(atadas.experiences && atadas.experiences.length > 0) {
          const expListDiv = document.createElement('div');
          expListDiv.className = 'nested-list';
          atadas.experiences.forEach(exp => {
            const expP = document.createElement('p');
            expP.innerHTML = `<em>${formatDate(exp.date)}:</em> ${exp.text}`;
            expListDiv.appendChild(expP);
          });
          entryDiv.appendChild(expListDiv);
        }

        container.appendChild(entryDiv);
      });
    }

    // Új átadás mentése
    document.getElementById('saveAtadasBtn').addEventListener('click', () => {
      const atadasInput = document.getElementById('atadasInput');
      const imakeresInput = document.getElementById('imakeresInput');
      
      const atadasSzoveg = atadasInput.value.trim();
      const imaSzoveg = imakeresInput.value.trim();

      if (!atadasSzoveg) {
        alert('Írd be, mit adsz át ma!');
        return;
      }
      
      let atadasok = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');

      const ujAtadas = {
        id: Date.now(),
        text: atadasSzoveg,
        ima: imaSzoveg,
        date: new Date().toISOString(),
        experiences: []
      };

      atadasok.unshift(ujAtadas);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(atadasok));

      // Töröljük a mezőket és frissítjük a listát
      atadasInput.value = '';
      imakeresInput.value = '';
      loadAtadasok();
    });

    // Oldal betöltésekor betöltjük az átadásokat
    window.addEventListener('DOMContentLoaded', loadAtadasok);
  </script>
</body>
</html>